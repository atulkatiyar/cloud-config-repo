Dear Colleagues (bcc),

Please be informed that EDI Fundamentals Mandatory training 3/3 (3d part of 3 of EDI Fundamentals) was assigned to you in LSEG Workday Portal (LSEG environment).

Kindly asking you to complete the learning ASAP If you‚Äôve already completed the course ‚Äì please ignore the email.
‚Ä¢	The training is not visible in the LSEG Workday Portal in ‚ÄúMy Learning‚Äù tab as a mandatory, so you should access course by clicking the direct link ( from the LSEG environment) :https://wd3.myworkday.com/lseg/d/inst/1$17188/23455$2185.htmld  
An additional reminder was sent to your LSEG email address as well.

Please pay attention that the course consists of 2 chapters, kindly make sure you‚Äôve completed each of them:


{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Principal": {
                "Service": "export.rds.amazonaws.com"
            },
            "Action": "sts:AssumeRole"
        }
    ]
}


üéØ Summary
IAM Role	Purpose	Key Permissions
IAM_ROLE_FOR_EXPORT	-> Allows RDS to export snapshots to S3	-> AmazonS3FullAccess, AWSRDSDataFullAccess, AWSKeyManagementServicePowerUser
IAM_ROLE_FOR_S3_REPLICATION	-> Allows another AWS account to access backups in S3	-> s3:GetObject, s3:ListBucket
Destination Bucket Policy ->	Allows Account A to replicate data into Account B	-> s3:ReplicateObject, s3:ObjectOwnerOverrideToBucketOwner



"rds:CreateDBClusterSnapshot",
                "rds:DescribeDBClusterSnapshots",
                "rds:ModifyDBClusterSnapshotAttribute



rds:CopyDBClusterSnapshot",
                "rds:DescribeDBClusterSnapshots"


write gitlab pipeline which takes package name and its Log level and its expiry time(milli sec) in from gitlab WEB pipeline UI and put that in AWS param store




stages:
  - store-log-config

store_log_config:
  stage: store-log-config
  image: amazon/aws-cli:latest
  variables:
    PACKAGE_NAME:
      description: "Enter the package name"
      value: ""  # Default is empty; user must enter a value
    LOG_LEVEL:
      description: "Enter log level (e.g., INFO, DEBUG, WARN)"
      value: "INFO"  # Default value
    EXPIRY_TIME:
      description: "Enter expiry time in milliseconds (e.g., 3600000 for 1 hour)"
      value: "3600000"  # Default value (1 hour)
  script:
    - echo "Storing log level configuration in AWS Parameter Store..."
    
    # Check if required variables are set
    - |
      if [[ -z "$PACKAGE_NAME" || -z "$LOG_LEVEL" || -z "$EXPIRY_TIME" ]]; then
        echo "‚ùå ERROR: One or more required variables are missing!"
        exit 1
      fi
    
    # Construct the JSON payload
    - PARAMETER_VALUE="{\"package\":\"$PACKAGE_NAME\",\"log_level\":\"$LOG_LEVEL\",\"expiry_time\":\"$EXPIRY_TIME\"}"
    
    # Store in AWS Systems Manager Parameter Store
    - |
      aws ssm put-parameter \
        --name "/log-config/$PACKAGE_NAME" \
        --value "$PARAMETER_VALUE" \
        --type "SecureString" \
        --overwrite \
        --region "us-east-1"
    
    - echo "‚úÖ Log level configuration stored successfully!"
  
  when: manual  # Makes it a manual trigger job



This job is stuck because the project doesn't have any runners online assigned to it.




stages:
  - configure-ssm

configure-parameter-store:
  stage: configure-ssm
  script:
    - CURRENT_TIME=$(date +%s)
    - EXPIRY_TIMESTAMP=$(($CURRENT_TIME + $EXPIRY_TIME / 1000))  # Convert milliseconds to seconds

    # Store Log Level
    - aws ssm put-parameter --name "/config/${PACKAGE_NAME}" --value "${LOG_LEVEL}" --type "String" --overwrite \
      --policies "[{\"Type\":\"Expiration\",\"Version\":\"1.0\",\"Attributes\":{\"Timestamp\":\"$(date -u -d @$EXPIRY_TIMESTAMP +'%Y-%m-%dT%H:%M:%SZ')\"}}]"

  environment: production


 --policies: command not found
