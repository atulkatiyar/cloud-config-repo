org.mockito.exceptions.misusing.WrongTypeOfReturnValue: 
URL cannot be returned by toLowerCase()
toLowerCase() should return String

@Test
    void testFetchUpdatedLog4jXml() throws Exception {
        URL mockUrl = mock(URL.class);
        HttpURLConnection mockConnection = mock(HttpURLConnection.class);
        InputStream mockInputStream = mock(InputStream.class);
        FileOutputStream mockFileOutputStream = mock(FileOutputStream.class);

        try (MockedStatic<URL> urlMock = Mockito.mockStatic(URL.class);
             MockedStatic<FileOutputStream> fileOutputStreamMock = Mockito.mockStatic(FileOutputStream.class)) {

            urlMock.when(() -> new URL("http://example.com/log4j2.xml")).thenReturn(mockUrl);
            when(mockUrl.openConnection()).thenReturn(mockConnection);
            when(mockConnection.getResponseCode()).thenReturn(200);
            when(mockConnection.getInputStream()).thenReturn(mockInputStream);
            fileOutputStreamMock.when(() -> new FileOutputStream(new File(LogLevelStartUpAgent.LOG4J2_XML_FILE_NAME)))
                    .thenReturn(mockFileOutputStream);

            LogLevelStartUpAgent.fetchUpdatedLog4jXml();

            verify(mockConnection).setRequestProperty("Accept", "application/xml");
            verify(mockConnection).setRequestMethod("GET");
            verify(mockConnection).setConnectTimeout(LogLevelStartUpAgent.TIMEOUT);
            verify(mockConnection).setReadTimeout(LogLevelStartUpAgent.TIMEOUT);
            verify(mockInputStream, atLeastOnce()).read(any(byte[].class));
            verify(mockFileOutputStream, atLeastOnce()).write(any(byte[].class), anyInt(), anyInt());
        }
    }
